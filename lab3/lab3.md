University: ITMO University

Faculty: FICT

Course: Network programming

Year: 2022

Group: K34202

Author: Kachmazov Arthur Andreevich

Lab: Lab3

Date of create: 06.12.2022

Date of finished:

**Тема работы**: Развертывание Netbox, сеть связи как источник правды в системе технического учета Netbox

**Цель работы**: С помощью Ansible и Netbox собрать всю возможную информацию об устройствах и сохранить их в отдельном файле.

**Ход работы**:
# 1) Поднять Netbox на дополнительной VM.  
  На облачной виртуальной машине был развёрнут Netbox - веб-приложение с открытым кодом, предназначенное для управления компьютерными сетями и их документирования.
  Согласно инструкции (https://www.vultr.com/docs/install-and-configure-netbox-on-ubuntu-20-04/), для настройки Netbox требуется:
  - PostgreSQL
  - Redis
  - Netbox
  - Gunicorn
  - Systemd
  - Nginx Web Server
  
  ## PostgreSQL
  Требуется установить и настроить базу данных.
  sudo apt install postgresql  
  \пикча\

  Создана нужная база данных и привелегированный пользователь  
  \пикча\

  ## Redis
  
  
  ## Netbox
  
  ## Gunicorn
  
  ## Systemd
  
  ## Nginx Web Server
  
# 2) Заполнить всю возможную информацию о ваших CHR в Netbox.
  Через интерфейс Netbox была внесена вся доступная информация.  
  \пикча\
  
# 3) Используя Ansible и роли для Netbox в тестовом режиме сохранить все данные из Netbox в отдельный файл.
  Из Netbox был скачен csv-файл с данными устройств.  
# 4) Написать сценарий, при котором на основе данных из Netbox можно настроить 2 CHR, изменить имя устройства, добавить IP адрес на устройство.
  Файл csv перенесен на сервер с anible.  
  Создан файл playbook1.yml. Основная цель разделена на две подзадачи. Первая - спарсить csv файл и записать нужную информацию о роутере в отдельный файл. В данном случае за ключ взят UID роутера, так как это значение не будет изменяться.  
  \пикча\
  
  Запущен playbook1, для проверки правильности вывода.  
  \пикча\
  
  В playbook1.yml добавлена часть, которая отвечает за установку названия роутера.  
  \пикча\
  
  Исполнение сценария
  \пикча\  
  \пикча\  
# 5) Написать сценарий, позволяющий собрать серийный номер устройства и вносящий серийный номер в Netbox.
  Был создан сценарий для получения серийного номера сетевого устройства и создания устройства в NetBox  
  \пикча\
  
  Проверка исполнения  
  \пикча\
